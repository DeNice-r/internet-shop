{% extends "admin/admin_layout.html" %}
{{ super() }}
{% block title %}–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ{% endblock %}
{% block content %}
    {# TODO: AJAX loading, pagination and search #}
    <h1 class="text-center">–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ</h1>
    <table class="table table-sm table-responsive table-bordered table-striped table-light table-hover mb-0">
        <thead>
        <tr>
            <th>ID</th>
            <th>–Ü–º'—è –ø—Ä–æ—Ñ—ñ–ª—è</th>
            <th>–ü–æ—à—Ç–∞</th>
            <th>–Ü–º'—è</th>
            <th>–¢–µ–ª–µ—Ñ–æ–Ω</th>
            <th>–ù–∞—Å–µ–ª–µ–Ω–∏–π –ø—É–Ω–∫—Ç</th>
            <th>–ê–¥—Ä–µ—Å–∞</th>
            <th>–†–æ–ª—ñ</th>
            <th>–î–∞—Ç–∞ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó</th>
            <th>–û—Å—Ç–∞–Ω–Ω—ñ–π –≤—Ö—ñ–¥</th>
            <th>–ü–æ—à—Ç—É –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–æ</th>
        </tr>
        <tr>
            <form>
                <th><input name="id" type="text"></th>
                <th><input name="username" type="text"></th>
                <th><input name="email" type="text"></th>
                <th><input name="firstname" type="text"></th>
                <th><input name="phone" type="text"></th>
                <th><input name="settlement" type="text"></th>
                <th><input name="address" type="text"></th>
                <th><input name="roles" type="text"></th>
                <th><input name="registered_on" type="text"></th>
                <th><input name="last_login" type="text"></th>
                <th><input name="confirmed" type="text"></th>
                <input type="submit" hidden>
            </form>
        </tr>
        </thead>
        <tbody>
        {% if users is not iterable %}
            {% set users = [users] %}
        {% endif %}
        {% for user in users %}
            <tr>
                <td>{{ user.id }}</td>
                <td>{{ user.username }}</td>
                <td>{{ user.email }}</td>
                <td>{{ user.firstname }}</td>
                <td>{{ user.phone }}</td>
                <td>{{ user.settlement }}</td>
                <td>{{ user.address }}</td>
                <td>{{ ', '.join(user.roles) }}</td>
                <td>{{ user.registered_on }}</td>
                <td>{{ user.last_login }}</td>
                <td>{{ '‚ûï' if user.confirmed else '‚ûñ' }}</td>
                <td>
                    <a class="btn btn-info" href="{{ url_for('admin.user', user_id=user.id) }}">‚úè</a>
                    <a class="btn btn-danger" href="{{ url_for('admin.user', user_id=user.id, delete='1') }}">üóë</a>
                </td>
            </tr>
        {% endfor %}
        </tbody>
    </table>

{% endblock %}
